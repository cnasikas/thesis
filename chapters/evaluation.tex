%!TEX root = ../thesis.tex
\chapter{Evaluation}
\label{evaluation}

All experiments have been made on a MacBook Pro 2016 and on a local Ethereum testnet.

PC Specs:

\begin{enumerate}
  \item CPU: 2GHz Intel Core i5 (2 cores)
  \item Memory: 8GB 1867 MHz LPDDR3
  \item 256BG PCI-Express SSD
\end{enumerate}

Ethereum Testnet:

\begin{enumerate}
  \item Ganache CLI v6.0.3 (ganache-core: 2.0.2)
  \item Solidity 0.4.18
\end{enumerate}

\section{Store Data}
\label{evaluation:store_data}

The cost of each Opcode (operation code) of Ethereum Virtual Machine (EVM) are defined on Ethereum yellow paper~\cite{ethereum_yellowpaper}. A gas cost summarisation of basic opcodes are be shown in Table~\ref{table:opcode_gas_cost}

In particular SLOAD opcode loads a word from storage and SSTORE opcode saves a word to storage. The size of an EVM word is 32 bytes (256 bit). To store one EVM word costs 20.000 gas, \$0.072 respectively, and to store 1kb the cost is 724.664, \$2.104.

\begin{table}[!ht]
\centering
\begin{tabular}{|l|l|l|}
\hline
 Operation & Gas  & Description \\ \hline
 ADD/SUB & 3 & Arithmetic operation \\ \hline
 MUL/DIV & 5 & Arithmetic operation \\ \hline
 ADDMOD/MULMOD & 8 & Arithmetic operation \\ \hline
 AND/OR/XOR & 3 & Bitwise logic operation \\ \hline
 LT/GT/SLT/SGT/EQ & 3 & Comparison operation \\ \hline
 POP & 2 & Stack operation \\ \hline
 PUSH/DUP/SWAP & 3 & Stack operation \\ \hline
 MLOAD/MSTORE & 3 & Memory operation \\ \hline
 JUMP & 8 & Unconditional jump \\ \hline
 JUMPI & 10 & Conditional jump \\ \hline
 SLOAD & 200 & Storage operation \\ \hline
 SSTORE & 5.000 / 20.000 & Storage operation \\ \hline
 BALANCE & 400 & Get balance of an account \\ \hline
 CREATE & 32.000 & Create a new account using CREATE \\ \hline
 CALL & 25.000 & Create a new account using CALL \\ \hline
\end{tabular}
\caption{Ethereum opcodes gas costs}
\label{table:opcode_gas_cost}
\end{table}

\begin{table}[!ht]
\centering
\begin{tabular}{|l|l|l|}
\hline
 Size & Gas  & USD \\ \hline
 32 bytes & 20.000  & \$0,058 \\ \hline
 1KB & 724.664  & \$2.104 \\ \hline
 1MB & 697.325.562  & \$2,025.03 \\ \hline
 10MB & ~7.000.000.000  & ~\$20,328 \\ \hline
 100MB & ~70.000.000.000  & ~\$203,280 \\ \hline
 1GB & ~700.000.000.000  & ~\$2,032,800 \\ \hline
\end{tabular}
\caption{Saving data costs. ETH Price: \$966.33 (Feb 17, 2018) - Gas Price: 3 Gwei}
\label{table:bytes_usd_cost}
\end{table}

\section{Benchmarks}
\label{evaluation:benchmarks}
